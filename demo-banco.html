<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Landing System — Demo Banco Nacional Meridian</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --primary:#2563eb;--primary-light:#3b82f6;--primary-dark:#1d4ed8;
  --accent:#7c3aed;--success:#10b981;--warning:#f59e0b;--danger:#ef4444;
  --sidebar:#0f172a;--bg:#f8fafc;--card:#ffffff;--text:#1e293b;--muted:#64748b;--border:#e2e8f0;
  --bank-dark:#0C2340;--bank-gold:#C5A572;--bank-light:#F5F0E8;
}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);overflow:hidden;height:100vh}
.view{position:absolute;inset:0;display:none;opacity:0;transition:opacity .4s}
.view.active{display:flex;opacity:1}

/* LOGIN */
#login{background:linear-gradient(135deg,var(--bank-dark) 0%,#1a3a5c 100%);align-items:center;justify-content:center}
.login-box{background:#fff;border-radius:20px;padding:48px 40px;width:420px;box-shadow:0 25px 60px rgba(0,0,0,.3);text-align:center}
.login-box h1{font-size:28px;font-weight:800;margin-bottom:4px;color:var(--text)}
.login-box p{color:var(--muted);font-size:14px;margin-bottom:28px}
.login-box .brand{font-size:40px;margin-bottom:16px}
.form-group{text-align:left;margin-bottom:16px}
.form-group label{font-size:12px;font-weight:600;color:var(--muted);display:block;margin-bottom:4px}
.form-group input{width:100%;padding:10px 14px;border:1px solid var(--border);border-radius:10px;font-size:14px;font-family:'Inter',sans-serif;transition:border .2s}
.form-group input:focus{outline:none;border-color:var(--primary)}
.btn-login{width:100%;padding:12px;background:var(--primary);color:#fff;border:none;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;transition:background .2s;margin-top:8px}
.btn-login:hover{background:var(--primary-dark)}

/* APP LAYOUT */
.app-layout{flex:1;display:flex;height:100vh}
.sidebar{width:240px;background:var(--sidebar);color:#fff;display:flex;flex-direction:column;flex-shrink:0}
.sidebar-brand{padding:20px;border-bottom:1px solid rgba(255,255,255,.08);display:flex;align-items:center;gap:10px}
.sidebar-brand span{font-size:15px;font-weight:700}
.sidebar-brand small{font-size:10px;color:var(--muted)}
.sidebar-nav{flex:1;padding:12px 8px}
.nav-item{display:flex;align-items:center;gap:10px;padding:9px 14px;border-radius:8px;font-size:13px;font-weight:500;color:#94a3b8;cursor:pointer;transition:all .15s;margin-bottom:2px}
.nav-item:hover{background:rgba(255,255,255,.05);color:#fff}
.nav-item.active{background:rgba(37,99,235,.15);color:var(--primary-light)}
.nav-item .icon{width:18px;text-align:center}
.sidebar-footer{padding:16px;border-top:1px solid rgba(255,255,255,.08);font-size:11px;color:#475569}

.main-area{flex:1;display:flex;flex-direction:column;overflow:hidden}
.topbar{height:56px;background:#fff;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 24px;flex-shrink:0}
.topbar-left{display:flex;align-items:center;gap:12px}
.topbar-left h2{font-size:15px;font-weight:700}
.topbar-right{display:flex;align-items:center;gap:12px}
.avatar{width:32px;height:32px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700}
.content{flex:1;overflow-y:auto;padding:24px}

/* CARDS */
.stat-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}
.stat-card{background:#fff;border:1px solid var(--border);border-radius:14px;padding:20px}
.stat-card .label{font-size:12px;color:var(--muted);font-weight:500}
.stat-card .value{font-size:28px;font-weight:800;margin-top:4px}
.stat-card .change{font-size:11px;margin-top:4px;font-weight:600}
.stat-card .change.up{color:var(--success)}
.stat-card .change.down{color:var(--danger)}

/* LANDING CARDS */
.landing-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
.landing-card{background:#fff;border:1px solid var(--border);border-radius:14px;overflow:hidden;cursor:pointer;transition:all .2s}
.landing-card:hover{box-shadow:0 8px 24px rgba(0,0,0,.08);transform:translateY(-2px)}
.landing-thumb{height:140px;position:relative}
.landing-thumb .badge{position:absolute;top:10px;right:10px;padding:3px 10px;border-radius:20px;font-size:10px;font-weight:700;text-transform:uppercase}
.badge-published{background:rgba(16,185,129,.15);color:var(--success)}
.badge-draft{background:rgba(245,158,11,.15);color:var(--warning)}
.landing-info{padding:16px}
.landing-info h3{font-size:15px;font-weight:700;margin-bottom:4px}
.landing-info .slug{font-size:11px;color:var(--muted);font-family:monospace}
.landing-meta{display:flex;gap:16px;margin-top:10px;font-size:12px;color:var(--muted)}
.landing-meta strong{color:var(--text)}
.landing-actions{display:flex;gap:8px;margin-top:12px}
.btn-sm{padding:6px 14px;border-radius:8px;font-size:12px;font-weight:600;border:1px solid var(--border);background:#fff;cursor:pointer;font-family:'Inter',sans-serif;transition:all .15s}
.btn-sm:hover{border-color:var(--primary);color:var(--primary)}
.btn-sm.primary{background:var(--primary);color:#fff;border-color:var(--primary)}

/* ACTIVITY */
.activity-list{background:#fff;border:1px solid var(--border);border-radius:14px;padding:20px}
.activity-list h3{font-size:14px;font-weight:700;margin-bottom:14px}
.activity-item{display:flex;align-items:center;gap:12px;padding:8px 0;border-bottom:1px solid var(--border);font-size:13px}
.activity-item:last-child{border:none}
.activity-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}

/* CHART */
.mini-chart{display:flex;align-items:flex-end;gap:4px;height:80px;margin-top:12px}
.mini-chart .bar{flex:1;border-radius:4px 4px 0 0;transition:height .5s}

/* EDITOR */
.editor-view{flex-direction:column !important}
.editor-toolbar{height:44px;background:#fff;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 16px;flex-shrink:0}
.editor-toolbar .left{display:flex;align-items:center;gap:10px}
.editor-toolbar .center{display:flex;gap:6px}
.editor-toolbar .right{display:flex;gap:6px}
.tb-btn{padding:5px 12px;border-radius:6px;font-size:11px;font-weight:600;border:1px solid var(--border);background:#fff;cursor:pointer;font-family:'Inter',sans-serif;transition:all .15s}
.tb-btn:hover{border-color:var(--primary);color:var(--primary)}
.tb-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}
.tb-btn.accent{background:var(--accent);color:#fff;border-color:var(--accent)}
.tb-btn.publish{background:var(--success);color:#fff;border-color:var(--success)}

.editor-body{flex:1;display:flex;overflow:hidden}
.editor-palette{width:200px;background:#fff;border-right:1px solid var(--border);padding:12px;overflow-y:auto;flex-shrink:0}
.palette-title{font-size:10px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
.palette-item{display:flex;align-items:center;gap:8px;padding:7px 10px;border-radius:8px;font-size:12px;color:var(--muted);cursor:grab;transition:all .15s;margin-bottom:2px}
.palette-item:hover{background:var(--bg);color:var(--text)}
.palette-item .grip{color:#cbd5e1;font-size:10px}

.editor-canvas{flex:1;background:#e2e8f0;overflow-y:auto;display:flex;justify-content:center;padding:20px}
.canvas-frame{background:#fff;width:100%;max-width:800px;box-shadow:0 4px 20px rgba(0,0,0,.08);border-radius:8px;overflow:hidden}
.canvas-section{position:relative;cursor:pointer;transition:outline .15s}
.canvas-section:hover{outline:2px dashed #93c5fd;outline-offset:-2px}
.canvas-section.selected{outline:2px solid var(--primary);outline-offset:-2px}

.editor-props{width:260px;background:#fff;border-left:1px solid var(--border);padding:16px;overflow-y:auto;flex-shrink:0}
.props-title{font-size:10px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}
.props-section-name{font-size:13px;font-weight:700;color:var(--primary);margin-bottom:16px}
.prop-group{margin-bottom:14px}
.prop-label{font-size:11px;font-weight:600;color:var(--muted);margin-bottom:3px}
.prop-input{width:100%;padding:7px 10px;border:1px solid var(--border);border-radius:8px;font-size:12px;font-family:'Inter',sans-serif}
.prop-input:focus{outline:none;border-color:var(--primary)}
.prop-color{display:flex;align-items:center;gap:8px}
.prop-color input[type=color]{width:32px;height:32px;border:1px solid var(--border);border-radius:6px;cursor:pointer}

/* BANK LANDING CANVAS STYLES */
.bank-nav{background:var(--bank-dark);color:#fff;padding:12px 24px;display:flex;align-items:center;justify-content:space-between}
.bank-nav .logo{display:flex;align-items:center;gap:8px;font-weight:700;font-size:14px}
.bank-nav .menu{display:flex;gap:16px;font-size:11px;color:rgba(255,255,255,.7)}
.bank-hero{background:linear-gradient(135deg,var(--bank-dark) 0%,#1a3a5c 50%,var(--bank-dark) 100%);color:#fff;padding:48px 40px;text-align:center;position:relative;overflow:hidden}
.bank-hero::before{content:'';position:absolute;top:-50%;right:-20%;width:500px;height:500px;border-radius:50%;background:rgba(197,165,114,.08)}
.bank-hero h1{font-size:28px;font-weight:800;margin-bottom:8px;position:relative}
.bank-hero .rate{font-size:18px;color:var(--bank-gold);font-weight:700;margin-bottom:16px;position:relative}
.bank-hero .cta-btn{display:inline-block;background:var(--bank-gold);color:var(--bank-dark);padding:12px 32px;border-radius:8px;font-weight:700;font-size:14px;position:relative}
.bank-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:0;background:#fff;border-bottom:1px solid var(--border)}
.bank-stat{text-align:center;padding:20px;border-right:1px solid var(--border)}
.bank-stat:last-child{border:none}
.bank-stat .num{font-size:22px;font-weight:800;color:var(--bank-dark)}
.bank-stat .lbl{font-size:11px;color:var(--muted);margin-top:2px}
.bank-features{padding:32px 40px;background:#fff}
.bank-features h2{text-align:center;font-size:20px;margin-bottom:24px;color:var(--bank-dark)}
.feat-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
.feat-item{text-align:center;padding:16px}
.feat-item .feat-icon{width:40px;height:40px;border-radius:10px;background:var(--bank-light);color:var(--bank-gold);display:flex;align-items:center;justify-content:center;margin:0 auto 8px;font-size:18px}
.feat-item h4{font-size:12px;font-weight:700;color:var(--bank-dark);margin-bottom:2px}
.feat-item p{font-size:10px;color:var(--muted)}
.bank-testimonials{padding:32px 40px;background:var(--bg)}
.bank-testimonials h2{text-align:center;font-size:20px;margin-bottom:24px;color:var(--bank-dark)}
.test-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.test-card{background:#fff;border-radius:12px;padding:16px;border:1px solid var(--border)}
.test-card blockquote{font-size:12px;color:var(--muted);font-style:italic;line-height:1.5;margin-bottom:8px}
.test-card .author{font-size:11px;font-weight:700;color:var(--text)}
.test-card .role{font-size:10px;color:var(--muted)}
.bank-faq{padding:32px 40px;background:#fff}
.bank-faq h2{text-align:center;font-size:20px;margin-bottom:24px;color:var(--bank-dark)}
.faq-item{border-bottom:1px solid var(--border);padding:12px 0}
.faq-item h4{font-size:13px;font-weight:700;color:var(--bank-dark);margin-bottom:4px}
.faq-item p{font-size:12px;color:var(--muted);line-height:1.5}
.bank-form{padding:32px 40px;background:var(--bank-light)}
.bank-form h2{text-align:center;font-size:20px;margin-bottom:24px;color:var(--bank-dark)}
.form-fields{max-width:400px;margin:0 auto}
.form-fields input,.form-fields select{width:100%;padding:10px 14px;border:1px solid #d1d5db;border-radius:8px;font-size:13px;margin-bottom:10px;font-family:'Inter',sans-serif}
.form-fields .submit-btn{width:100%;padding:12px;background:var(--bank-gold);color:var(--bank-dark);border:none;border-radius:8px;font-weight:700;font-size:14px;cursor:pointer}
.bank-footer{background:var(--bank-dark);color:rgba(255,255,255,.6);padding:24px 40px;font-size:11px;display:flex;justify-content:space-between}

/* PREVIEW (full screen landing) */
#preview{flex-direction:column;background:#fff;overflow-y:auto}
.preview-bar{height:44px;background:var(--sidebar);color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 20px;flex-shrink:0}
.preview-bar .btn-back{background:rgba(255,255,255,.1);border:none;color:#fff;padding:6px 14px;border-radius:6px;cursor:pointer;font-size:12px;font-weight:600;font-family:'Inter',sans-serif}
.preview-content{flex:1;overflow-y:auto}
.preview-popup{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;pointer-events:none;transition:opacity .3s}
.preview-popup.show{opacity:1;pointer-events:auto}
.popup-box{background:#fff;border-radius:16px;padding:32px;max-width:400px;text-align:center;box-shadow:0 20px 40px rgba(0,0,0,.2)}
.popup-box h3{font-size:20px;font-weight:800;color:var(--bank-dark);margin-bottom:8px}
.popup-box p{color:var(--muted);font-size:14px;margin-bottom:16px}
.popup-box .popup-cta{display:inline-block;background:var(--bank-gold);color:var(--bank-dark);padding:10px 28px;border-radius:8px;font-weight:700;font-size:14px}
.popup-box .close-popup{position:absolute;top:12px;right:16px;font-size:20px;color:#9ca3af;cursor:pointer;background:none;border:none}

/* LEADS TABLE */
.leads-table{width:100%;border-collapse:collapse;background:#fff;border-radius:14px;overflow:hidden;border:1px solid var(--border)}
.leads-table th{padding:12px 16px;text-align:left;font-size:12px;font-weight:600;color:var(--muted);background:var(--bg);border-bottom:1px solid var(--border)}
.leads-table td{padding:10px 16px;font-size:13px;border-bottom:1px solid var(--border)}
.leads-table tr:last-child td{border:none}
.lead-badge{padding:3px 10px;border-radius:20px;font-size:10px;font-weight:700}
.lead-nuevo{background:rgba(37,99,235,.1);color:var(--primary)}
.lead-contactado{background:rgba(245,158,11,.1);color:var(--warning)}
.lead-cualificado{background:rgba(124,58,237,.1);color:var(--accent)}
.lead-convertido{background:rgba(16,185,129,.1);color:var(--success)}

/* AB TESTING */
.ab-card{background:#fff;border:1px solid var(--border);border-radius:14px;padding:24px;margin-bottom:16px}
.ab-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.ab-header h3{font-size:18px;font-weight:700}
.ab-variants{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px}
.ab-variant{border:1px solid var(--border);border-radius:12px;padding:16px}
.ab-variant.winner{border-color:var(--success);background:rgba(16,185,129,.02)}
.ab-variant h4{font-size:14px;font-weight:700;margin-bottom:8px}
.ab-variant .metric{display:flex;justify-content:space-between;font-size:13px;padding:4px 0;border-bottom:1px solid var(--border)}
.ab-variant .metric:last-child{border:none}
.ab-variant .metric .val{font-weight:700}
.bar-compare{height:32px;display:flex;border-radius:8px;overflow:hidden;margin-bottom:8px}
.bar-compare .bar-a{background:var(--primary);transition:width .5s}
.bar-compare .bar-b{background:var(--success);transition:width .5s}
.lift-badge{display:inline-block;background:rgba(16,185,129,.1);color:var(--success);padding:4px 12px;border-radius:20px;font-size:13px;font-weight:700}

/* HEATMAP */
.heatmap-container{position:relative;border-radius:12px;overflow:hidden;border:1px solid var(--border)}
.heatmap-dot{position:absolute;border-radius:50%;pointer-events:none;animation:hpulse 2s ease-in-out infinite}
@keyframes hpulse{0%,100%{opacity:.6;transform:scale(1)}50%{opacity:.9;transform:scale(1.1)}}
.scroll-depth{display:flex;height:400px;border-radius:12px;overflow:hidden;border:1px solid var(--border)}
.scroll-band{flex:1;display:flex;align-items:flex-end;justify-content:center;font-size:11px;font-weight:700;color:#fff;padding-bottom:8px}

/* ACCESSIBILITY */
.a11y-score{width:120px;height:120px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:36px;font-weight:900;margin:0 auto 16px}
.a11y-issue{display:flex;align-items:flex-start;gap:10px;padding:12px;border-bottom:1px solid var(--border)}
.a11y-issue:last-child{border:none}
.issue-badge{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;flex-shrink:0}

/* SECTION HEADERS */
.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.section-header h2{font-size:20px;font-weight:700}

/* TRANSITIONS */
.fade-in{animation:fadeIn .4s ease forwards}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>

<!-- ===== LOGIN ===== -->
<div id="login" class="view active">
  <div class="login-box">
    <div class="brand">&#127974;</div>
    <h1>Landing System</h1>
    <p>Plataforma de landing pages profesionales</p>
    <div class="form-group"><label>Email</label><input type="email" value="admin@meridian.bank"></div>
    <div class="form-group"><label>Contrasena</label><input type="password" value="12345678"></div>
    <button class="btn-login" onclick="showApp()">Iniciar Sesion</button>
    <p style="margin-top:16px;font-size:11px;color:var(--muted)">Demo — Banco Nacional Meridian</p>
  </div>
</div>

<!-- ===== APP ===== -->
<div id="app" class="view">
  <div class="app-layout">
    <!-- SIDEBAR -->
    <div class="sidebar">
      <div class="sidebar-brand">
        <span style="font-size:24px">&#127974;</span>
        <div><span>Banco Meridian</span><br><small>Landing System</small></div>
      </div>
      <div class="sidebar-nav">
        <div class="nav-item active" data-view="home"><span class="icon">&#127968;</span> Inicio</div>
        <div class="nav-item" data-view="landings"><span class="icon">&#128196;</span> Landings</div>
        <div class="nav-item" data-view="abtesting"><span class="icon">&#129514;</span> A/B Testing</div>
        <div class="nav-item" data-view="leads"><span class="icon">&#128203;</span> Leads</div>
        <div class="nav-item" data-view="heatmaps"><span class="icon">&#128293;</span> Heatmaps</div>
        <div class="nav-item" data-view="accessibility"><span class="icon">&#9855;</span> Accesibilidad</div>
        <div class="nav-item" data-view="settings"><span class="icon">&#9881;</span> Configuracion</div>
      </div>
      <div class="sidebar-footer">Landing System v2.0<br>© 2026</div>
    </div>
    <!-- MAIN -->
    <div class="main-area">
      <div class="topbar">
        <div class="topbar-left"><h2 id="page-title">Inicio</h2></div>
        <div class="topbar-right">
          <span style="font-size:13px;color:var(--muted)">Carlos Martinez</span>
          <div class="avatar">CM</div>
        </div>
      </div>
      <div class="content" id="main-content">
        <!-- Dynamic content goes here -->
      </div>
    </div>
  </div>
</div>

<!-- ===== EDITOR ===== -->
<div id="editor" class="view editor-view">
  <div class="editor-toolbar">
    <div class="left">
      <button class="tb-btn" onclick="showView('landings')" style="cursor:pointer">&#8592; Volver</button>
      <span style="font-size:13px;font-weight:700">Hipoteca Joven Meridian</span>
      <span style="width:8px;height:8px;border-radius:50%;background:var(--warning);display:inline-block" title="Sin guardar"></span>
    </div>
    <div class="center">
      <button class="tb-btn active">Escritorio</button>
      <button class="tb-btn">Tablet</button>
      <button class="tb-btn">Movil</button>
      <span style="width:1px;height:20px;background:var(--border);display:inline-block"></span>
      <button class="tb-btn active">Props</button>
      <button class="tb-btn accent">&#10024; IA</button>
    </div>
    <div class="right">
      <button class="tb-btn" onclick="showPreview()">Vista previa</button>
      <button class="tb-btn">Guardar</button>
      <button class="tb-btn publish">Publicar</button>
    </div>
  </div>
  <div class="editor-body">
    <!-- PALETTE -->
    <div class="editor-palette">
      <div class="palette-title">Componentes</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#9733; Navegacion</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#10024; Hero</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#128200; Estadisticas</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#9638; Caracteristicas</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#10003; Testimonios</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#63; FAQ</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#9993; Formulario</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#128640; CTA</div>
      <div class="palette-item"><span class="grip">&#8942;&#8942;</span> &#9881; Pie de pagina</div>
      <div class="palette-title" style="margin-top:16px">Capas</div>
      <div class="palette-item" style="font-size:11px;color:var(--primary)">1. Navegacion &#8645;</div>
      <div class="palette-item" style="font-size:11px">2. Hero &#8645;</div>
      <div class="palette-item" style="font-size:11px">3. Estadisticas &#8645;</div>
      <div class="palette-item" style="font-size:11px">4. Caracteristicas &#8645;</div>
      <div class="palette-item" style="font-size:11px">5. Testimonios &#8645;</div>
      <div class="palette-item" style="font-size:11px">6. FAQ &#8645;</div>
      <div class="palette-item" style="font-size:11px">7. Formulario &#8645;</div>
      <div class="palette-item" style="font-size:11px">8. Pie de pagina &#8645;</div>
    </div>
    <!-- CANVAS -->
    <div class="editor-canvas">
      <div class="canvas-frame" id="editor-canvas-frame">
        <!-- Bank landing content in editor -->
      </div>
    </div>
    <!-- PROPERTIES -->
    <div class="editor-props" id="editor-props">
      <div class="props-title">Propiedades</div>
      <div class="props-section-name" id="props-name">Selecciona una seccion</div>
      <div id="props-content"><p style="font-size:12px;color:var(--muted)">Haz clic en una seccion del canvas para editar sus propiedades.</p></div>
    </div>
  </div>
</div>

<!-- ===== PREVIEW ===== -->
<div id="preview" class="view">
  <div class="preview-bar">
    <button class="btn-back" onclick="showView('editor-return')">&#8592; Volver al editor</button>
    <span style="font-size:13px">Vista previa — /p/hipoteca-joven</span>
    <span style="font-size:12px;color:var(--muted)">Responsive: Escritorio</span>
  </div>
  <div class="preview-content" id="preview-content"></div>
  <div class="preview-popup" id="preview-popup">
    <div class="popup-box" style="position:relative;">
      <button class="close-popup" onclick="document.getElementById('preview-popup').classList.remove('show')">&times;</button>
      <div style="font-size:40px;margin-bottom:12px">&#127873;</div>
      <h3>&#161;Oferta exclusiva!</h3>
      <p>Solicita tu hipoteca antes del 31 de marzo y obten <strong>0% comision de apertura</strong></p>
      <div class="popup-cta">Solicitar ahora</div>
      <p style="font-size:10px;color:var(--muted);margin-top:12px">Trigger: temporizador 3s | Frecuencia: una vez</p>
    </div>
  </div>
</div>

<script>
// ===== VIEW MANAGEMENT =====
const views = document.querySelectorAll('.view');
const navItems = document.querySelectorAll('.nav-item');
let currentSection = 'home';

function showApp(){
  document.getElementById('login').classList.remove('active');
  document.getElementById('app').classList.add('active');
  renderView('home');
}

function showView(view){
  if(view==='editor-return'){
    views.forEach(v=>v.classList.remove('active'));
    document.getElementById('editor').classList.add('active');
    return;
  }
  if(view==='editor'){
    views.forEach(v=>v.classList.remove('active'));
    document.getElementById('editor').classList.add('active');
    renderEditorCanvas();
    return;
  }
  if(view==='preview'){
    views.forEach(v=>v.classList.remove('active'));
    document.getElementById('preview').classList.add('active');
    return;
  }
  currentSection=view;
  views.forEach(v=>v.classList.remove('active'));
  document.getElementById('app').classList.add('active');
  navItems.forEach(n=>n.classList.toggle('active',n.dataset.view===view));
  renderView(view);
}

function showPreview(){
  views.forEach(v=>v.classList.remove('active'));
  document.getElementById('preview').classList.add('active');
  renderPreview();
  setTimeout(()=>document.getElementById('preview-popup').classList.add('show'),3000);
}

navItems.forEach(n=>n.addEventListener('click',()=>showView(n.dataset.view)));

// ===== RENDER VIEWS =====
function renderView(view){
  const c=document.getElementById('main-content');
  const t=document.getElementById('page-title');
  switch(view){
    case 'home': t.textContent='Inicio'; c.innerHTML=homeHTML(); break;
    case 'landings': t.textContent='Landings'; c.innerHTML=landingsHTML(); break;
    case 'abtesting': t.textContent='A/B Testing'; c.innerHTML=abHTML(); break;
    case 'leads': t.textContent='Leads'; c.innerHTML=leadsHTML(); break;
    case 'heatmaps': t.textContent='Heatmaps'; c.innerHTML=heatmapsHTML(); break;
    case 'accessibility': t.textContent='Accesibilidad'; c.innerHTML=a11yHTML(); break;
    case 'settings': t.textContent='Configuracion'; c.innerHTML='<div class="fade-in"><div class="ab-card"><h3 style="font-size:16px;margin-bottom:16px">Configuracion de la empresa</h3><div class="prop-group"><div class="prop-label">Nombre</div><input class="prop-input" value="Banco Nacional Meridian"></div><div class="prop-group"><div class="prop-label">Dominio</div><input class="prop-input" value="meridian.bank"></div><div class="prop-group"><div class="prop-label">API Key OpenAI (BYOK)</div><input class="prop-input" value="sk-...oculta" type="password"></div><div class="prop-group"><div class="prop-label">API Key Anthropic (BYOK)</div><input class="prop-input" placeholder="Opcional"></div><button class="btn-sm primary" style="margin-top:12px">Guardar cambios</button></div></div>'; break;
  }
}

function homeHTML(){
return `<div class="fade-in">
<div class="stat-grid">
  <div class="stat-card"><div class="label">Landings Activas</div><div class="value">4</div><div class="change up">&#9650; 1 esta semana</div></div>
  <div class="stat-card"><div class="label">Visitantes Hoy</div><div class="value" style="color:var(--primary)">2.847</div><div class="change up">&#9650; 12.3% vs ayer</div></div>
  <div class="stat-card"><div class="label">Leads Este Mes</div><div class="value" style="color:var(--success)">156</div><div class="change up">&#9650; 23 nuevos hoy</div></div>
  <div class="stat-card"><div class="label">Tasa Conversion</div><div class="value" style="color:var(--accent)">5,48%</div><div class="change up">&#9650; 0.3% vs mes anterior</div></div>
</div>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
  <div class="activity-list">
    <h3>Actividad Reciente</h3>
    <div class="activity-item"><div class="activity-dot" style="background:var(--success)"></div><span>Nuevo lead: <strong>Maria Garcia</strong> — Hipoteca Joven</span><span style="margin-left:auto;font-size:11px;color:var(--muted)">Hace 12 min</span></div>
    <div class="activity-item"><div class="activity-dot" style="background:var(--primary)"></div><span>Landing <strong>Black Friday</strong> publicada</span><span style="margin-left:auto;font-size:11px;color:var(--muted)">Hace 1h</span></div>
    <div class="activity-item"><div class="activity-dot" style="background:var(--accent)"></div><span>A/B Test <strong>Hero Test</strong> — Variante B gana +56%</span><span style="margin-left:auto;font-size:11px;color:var(--muted)">Hace 3h</span></div>
    <div class="activity-item"><div class="activity-dot" style="background:var(--warning)"></div><span>Audit accesibilidad: <strong>92/100</strong></span><span style="margin-left:auto;font-size:11px;color:var(--muted)">Hace 5h</span></div>
    <div class="activity-item"><div class="activity-dot" style="background:var(--success)"></div><span>Nuevo lead: <strong>Carlos Ruiz</strong> — Tarjeta Platinum</span><span style="margin-left:auto;font-size:11px;color:var(--muted)">Hace 6h</span></div>
  </div>
  <div class="activity-list">
    <h3>Visitantes por dia (ultima semana)</h3>
    <div class="mini-chart">
      <div class="bar" style="height:45%;background:var(--primary)"></div>
      <div class="bar" style="height:62%;background:var(--primary)"></div>
      <div class="bar" style="height:38%;background:var(--primary)"></div>
      <div class="bar" style="height:72%;background:var(--primary)"></div>
      <div class="bar" style="height:55%;background:var(--primary)"></div>
      <div class="bar" style="height:88%;background:var(--primary)"></div>
      <div class="bar" style="height:95%;background:var(--primary-light)"></div>
    </div>
    <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--muted);margin-top:6px"><span>Lun</span><span>Mar</span><span>Mie</span><span>Jue</span><span>Vie</span><span>Sab</span><span style="font-weight:700;color:var(--primary)">Hoy</span></div>
  </div>
</div>
</div>`;
}

function landingsHTML(){
return `<div class="fade-in">
<div class="section-header"><h2>Mis Landings</h2><button class="btn-sm primary">+ Nueva Landing</button></div>
<div class="landing-grid">
  <div class="landing-card" onclick="showView('editor')">
    <div class="landing-thumb" style="background:linear-gradient(135deg,#0C2340,#1a3a5c)">
      <div class="badge badge-published">Publicada</div>
      <div style="color:#fff;padding:20px;font-size:16px;font-weight:700;position:relative;z-index:1">Hipoteca Joven<br><span style="font-size:11px;font-weight:400;opacity:.7">Tu primera vivienda...</span></div>
    </div>
    <div class="landing-info">
      <h3>Hipoteca Joven Meridian</h3>
      <div class="slug">/p/hipoteca-joven</div>
      <div class="landing-meta"><span>&#128065; <strong>1.234</strong> visitas</span><span>&#128203; <strong>67</strong> leads</span><span>&#128200; <strong>5,4%</strong> conv.</span></div>
      <div class="landing-actions"><button class="btn-sm primary" onclick="event.stopPropagation();showView('editor')">Editar</button><button class="btn-sm" onclick="event.stopPropagation();showPreview()">Vista previa</button><button class="btn-sm">Estadisticas</button></div>
    </div>
  </div>
  <div class="landing-card">
    <div class="landing-thumb" style="background:linear-gradient(135deg,#1a1a2e,#C5A572)">
      <div class="badge badge-published">Publicada</div>
      <div style="color:#fff;padding:20px;font-size:16px;font-weight:700">Tarjeta Platinum<br><span style="font-size:11px;font-weight:400;opacity:.7">Business sin limites</span></div>
    </div>
    <div class="landing-info">
      <h3>Tarjeta Platinum Business</h3>
      <div class="slug">/p/tarjeta-platinum</div>
      <div class="landing-meta"><span>&#128065; <strong>892</strong> visitas</span><span>&#128203; <strong>45</strong> leads</span><span>&#128200; <strong>5,0%</strong> conv.</span></div>
      <div class="landing-actions"><button class="btn-sm primary">Editar</button><button class="btn-sm">Vista previa</button></div>
    </div>
  </div>
  <div class="landing-card">
    <div class="landing-thumb" style="background:linear-gradient(135deg,#0C2340,#2563eb)">
      <div class="badge badge-draft">Borrador</div>
      <div style="color:#fff;padding:20px;font-size:16px;font-weight:700">Cuenta Empresas<br><span style="font-size:11px;font-weight:400;opacity:.7">Pro para PYMEs</span></div>
    </div>
    <div class="landing-info">
      <h3>Cuenta Empresas Pro</h3>
      <div class="slug">/p/cuenta-empresas</div>
      <div class="landing-meta"><span style="color:var(--warning)">&#9888; En edicion</span></div>
      <div class="landing-actions"><button class="btn-sm primary">Editar</button></div>
    </div>
  </div>
  <div class="landing-card">
    <div class="landing-thumb" style="background:linear-gradient(135deg,#1f2937,#ef4444)">
      <div class="badge badge-published">Publicada</div>
      <div style="color:#fff;padding:20px;font-size:16px;font-weight:700">Black Friday<br><span style="font-size:11px;font-weight:400;opacity:.7">Ofertas especiales</span></div>
    </div>
    <div class="landing-info">
      <h3>Campana Black Friday</h3>
      <div class="slug">/p/black-friday-2026</div>
      <div class="landing-meta"><span>&#128065; <strong>2.103</strong> visitas</span><span>&#129514; <strong>A/B Test activo</strong></span></div>
      <div class="landing-actions"><button class="btn-sm primary">Editar</button><button class="btn-sm">Vista previa</button></div>
    </div>
  </div>
</div>
</div>`;
}

function abHTML(){
return `<div class="fade-in">
<div class="section-header"><h2>Experimentos A/B</h2></div>
<div class="ab-card">
  <div class="ab-header">
    <div><h3>Hipoteca Joven — Hero Test</h3><span style="font-size:12px;color:var(--muted)">Creado: 10 Feb 2026 | Duracion: 8 dias</span></div>
    <span style="background:rgba(16,185,129,.1);color:var(--success);padding:4px 14px;border-radius:20px;font-size:12px;font-weight:700">ACTIVO</span>
  </div>
  <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:20px">
    <div class="stat-card" style="padding:14px"><div class="label">Visitantes</div><div class="value" style="font-size:22px">2.103</div></div>
    <div class="stat-card" style="padding:14px"><div class="label">Conversiones</div><div class="value" style="font-size:22px;color:var(--success)">146</div></div>
    <div class="stat-card" style="padding:14px"><div class="label">Tasa Conv. Media</div><div class="value" style="font-size:22px">6,94%</div></div>
    <div class="stat-card" style="padding:14px"><div class="label">Ganadora</div><div class="value" style="font-size:22px;color:var(--success)">Variante B</div></div>
  </div>
  <div class="ab-variants">
    <div class="ab-variant">
      <h4>Variante A (Control) <span style="background:rgba(37,99,235,.1);color:var(--primary);padding:2px 8px;border-radius:4px;font-size:10px">Control</span></h4>
      <p style="font-size:12px;color:var(--muted);margin-bottom:12px;font-style:italic">"Tu primera vivienda con la mejor hipoteca del mercado"</p>
      <div class="metric"><span>Trafico</span><span class="val">50%</span></div>
      <div class="metric"><span>Visitantes</span><span class="val">1.052</span></div>
      <div class="metric"><span>Conversiones</span><span class="val">57</span></div>
      <div class="metric"><span>Tasa conv.</span><span class="val">5,42%</span></div>
      <div class="metric"><span>Lift</span><span class="val" style="color:var(--muted)">Base</span></div>
    </div>
    <div class="ab-variant winner">
      <h4>Variante B (Nuevo Hero) <span class="lift-badge" style="font-size:10px;padding:2px 8px">&#9650; Ganadora</span></h4>
      <p style="font-size:12px;color:var(--muted);margin-bottom:12px;font-style:italic">"Hipoteca al 0,49% para menores de 35 anos"</p>
      <div class="metric"><span>Trafico</span><span class="val">50%</span></div>
      <div class="metric"><span>Visitantes</span><span class="val">1.051</span></div>
      <div class="metric"><span>Conversiones</span><span class="val" style="color:var(--success)">89</span></div>
      <div class="metric"><span>Tasa conv.</span><span class="val" style="color:var(--success)">8,47%</span></div>
      <div class="metric"><span>Lift vs Control</span><span class="val lift-badge">+56,3%</span></div>
    </div>
  </div>
  <div style="margin-bottom:16px">
    <div style="font-size:12px;font-weight:600;margin-bottom:6px">Comparativa visual</div>
    <div class="bar-compare"><div class="bar-a" style="width:39%"></div><div class="bar-b" style="width:61%"></div></div>
    <div style="display:flex;justify-content:space-between;font-size:11px;color:var(--muted)"><span>&#9632; Var. A: 5,42%</span><span>&#9632; Var. B: 8,47%</span></div>
  </div>
  <button class="btn-sm primary" style="padding:10px 24px;font-size:13px">Declarar Variante B como Ganadora</button>
</div>
</div>`;
}

function leadsHTML(){
return `<div class="fade-in">
<div class="section-header">
  <h2>Leads <span style="background:rgba(37,99,235,.1);color:var(--primary);padding:3px 10px;border-radius:20px;font-size:12px;font-weight:700;margin-left:8px">156</span></h2>
  <div style="display:flex;gap:8px"><select class="prop-input" style="width:auto;font-size:12px;padding:6px 12px"><option>Todas las landings</option><option>Hipoteca Joven</option><option>Tarjeta Platinum</option><option>Black Friday</option></select><button class="btn-sm">Exportar CSV</button></div>
</div>
<table class="leads-table">
<thead><tr><th>Nombre</th><th>Email</th><th>Telefono</th><th>Landing</th><th>Fecha</th><th>Estado</th></tr></thead>
<tbody>
<tr><td><strong>Maria Garcia Lopez</strong></td><td>maria.garcia@gmail.com</td><td>+34 612 345 678</td><td>Hipoteca Joven</td><td>18 Feb 2026, 10:23</td><td><span class="lead-badge lead-nuevo">Nuevo</span></td></tr>
<tr><td><strong>Carlos Ruiz Perez</strong></td><td>c.ruiz@empresa.es</td><td>+34 623 456 789</td><td>Tarjeta Platinum</td><td>18 Feb 2026, 09:45</td><td><span class="lead-badge lead-nuevo">Nuevo</span></td></tr>
<tr><td><strong>Ana Martinez Diaz</strong></td><td>ana.martinez@hotmail.com</td><td>+34 634 567 890</td><td>Hipoteca Joven</td><td>17 Feb 2026, 18:12</td><td><span class="lead-badge lead-contactado">Contactado</span></td></tr>
<tr><td><strong>Pedro Sanchez Gil</strong></td><td>p.sanchez@outlook.es</td><td>+34 645 678 901</td><td>Black Friday</td><td>17 Feb 2026, 15:30</td><td><span class="lead-badge lead-cualificado">Cualificado</span></td></tr>
<tr><td><strong>Laura Fernandez Roca</strong></td><td>lfernandez@gmail.com</td><td>+34 656 789 012</td><td>Hipoteca Joven</td><td>17 Feb 2026, 12:08</td><td><span class="lead-badge lead-convertido">Convertido</span></td></tr>
<tr><td><strong>Javier Moreno Vega</strong></td><td>jmoreno@icloud.com</td><td>+34 667 890 123</td><td>Tarjeta Platinum</td><td>16 Feb 2026, 22:15</td><td><span class="lead-badge lead-contactado">Contactado</span></td></tr>
<tr><td><strong>Sofia Torres Blanco</strong></td><td>storres@yahoo.es</td><td>+34 678 901 234</td><td>Hipoteca Joven</td><td>16 Feb 2026, 17:42</td><td><span class="lead-badge lead-convertido">Convertido</span></td></tr>
<tr><td><strong>Miguel Angel Navarro</strong></td><td>m.navarro@gmail.com</td><td>+34 689 012 345</td><td>Black Friday</td><td>16 Feb 2026, 14:55</td><td><span class="lead-badge lead-nuevo">Nuevo</span></td></tr>
<tr><td><strong>Elena Romero Soto</strong></td><td>elena.romero@empresa.com</td><td>+34 690 123 456</td><td>Hipoteca Joven</td><td>15 Feb 2026, 11:20</td><td><span class="lead-badge lead-cualificado">Cualificado</span></td></tr>
<tr><td><strong>David Herrera Castro</strong></td><td>dherrera@proton.me</td><td>+34 601 234 567</td><td>Tarjeta Platinum</td><td>15 Feb 2026, 09:08</td><td><span class="lead-badge lead-contactado">Contactado</span></td></tr>
</tbody></table>
</div>`;
}

function heatmapsHTML(){
return `<div class="fade-in">
<div class="section-header"><h2>Mapas de Calor</h2><select class="prop-input" style="width:auto;font-size:12px;padding:6px 12px"><option>Hipoteca Joven Meridian</option><option>Tarjeta Platinum</option></select></div>
<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:20px">
  <div class="stat-card" style="padding:14px"><div class="label">Visitantes</div><div class="value" style="font-size:22px;color:var(--primary)">2.847</div></div>
  <div class="stat-card" style="padding:14px"><div class="label">Clics totales</div><div class="value" style="font-size:22px;color:var(--danger)">4.312</div></div>
  <div class="stat-card" style="padding:14px"><div class="label">Scroll medio</div><div class="value" style="font-size:22px;color:var(--success)">67%</div></div>
  <div class="stat-card" style="padding:14px"><div class="label">Tiempo medio</div><div class="value" style="font-size:22px;color:var(--accent)">3:24</div></div>
</div>
<div style="display:grid;grid-template-columns:2fr 1fr;gap:16px">
  <div>
    <h3 style="font-size:14px;font-weight:700;margin-bottom:10px">Mapa de clics</h3>
    <div class="heatmap-container" style="height:400px;background:linear-gradient(180deg,#0C2340 0%,#0C2340 15%,#fff 15%,#fff 100%)">
      <div style="text-align:center;padding:12px;color:rgba(255,255,255,.5);font-size:11px">&#127974; Banco Nacional Meridian</div>
      <div style="text-align:center;color:#fff;font-size:14px;font-weight:700;padding:4px">Tu primera vivienda...</div>
      <div class="heatmap-dot" style="width:70px;height:70px;background:radial-gradient(circle,rgba(255,0,0,.8),rgba(255,165,0,.3),transparent);top:85px;left:45%"></div>
      <div class="heatmap-dot" style="width:50px;height:50px;background:radial-gradient(circle,rgba(255,0,0,.6),rgba(255,165,0,.2),transparent);top:45px;left:48%"></div>
      <div class="heatmap-dot" style="width:40px;height:40px;background:radial-gradient(circle,rgba(255,0,0,.5),rgba(255,165,0,.15),transparent);top:160px;left:25%"></div>
      <div class="heatmap-dot" style="width:55px;height:55px;background:radial-gradient(circle,rgba(255,0,0,.7),rgba(255,165,0,.25),transparent);top:200px;left:52%"></div>
      <div class="heatmap-dot" style="width:35px;height:35px;background:radial-gradient(circle,rgba(255,0,0,.4),rgba(255,165,0,.1),transparent);top:280px;left:38%"></div>
      <div class="heatmap-dot" style="width:60px;height:60px;background:radial-gradient(circle,rgba(255,0,0,.7),rgba(255,165,0,.2),transparent);top:320px;left:46%"></div>
    </div>
  </div>
  <div>
    <h3 style="font-size:14px;font-weight:700;margin-bottom:10px">Profundidad de scroll</h3>
    <div class="scroll-depth">
      <div class="scroll-band" style="background:linear-gradient(180deg,#10b981,#10b981 95%,transparent);height:100%">95%</div>
      <div class="scroll-band" style="background:linear-gradient(180deg,#3b82f6,#3b82f6 82%,transparent)">82%</div>
      <div class="scroll-band" style="background:linear-gradient(180deg,#f59e0b,#f59e0b 67%,transparent)">67%</div>
      <div class="scroll-band" style="background:linear-gradient(180deg,#ef4444,#ef4444 34%,transparent)">34%</div>
    </div>
    <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--muted);margin-top:6px"><span>Hero</span><span>Features</span><span>Form</span><span>Footer</span></div>
  </div>
</div>
</div>`;
}

function a11yHTML(){
return `<div class="fade-in">
<div class="section-header"><h2>Auditoria de Accesibilidad</h2><select class="prop-input" style="width:auto;font-size:12px;padding:6px 12px"><option>Hipoteca Joven Meridian</option></select></div>
<div style="display:grid;grid-template-columns:1fr 2fr;gap:24px">
  <div class="ab-card" style="text-align:center">
    <div class="a11y-score" style="background:rgba(16,185,129,.12);color:var(--success)">92</div>
    <h3 style="font-size:16px;margin-bottom:4px">Puntuacion</h3>
    <p style="font-size:13px;color:var(--muted)">WCAG 2.1 AA</p>
    <div style="display:flex;justify-content:center;gap:16px;margin-top:16px;font-size:12px">
      <span style="color:var(--danger)">0 errores</span>
      <span style="color:var(--warning)">1 aviso</span>
      <span style="color:var(--primary)">1 info</span>
    </div>
    <button class="btn-sm primary" style="margin-top:16px">Ejecutar auditoria</button>
  </div>
  <div class="ab-card">
    <h3 style="font-size:16px;margin-bottom:16px">Problemas encontrados</h3>
    <div class="a11y-issue">
      <div class="issue-badge" style="background:var(--warning)">!</div>
      <div>
        <div style="font-size:13px;font-weight:600">Contraste insuficiente en enlace del footer</div>
        <div style="font-size:11px;color:var(--muted)">Regla: color-contrast | Seccion: Pie de pagina</div>
        <div style="font-size:11px;color:var(--primary);background:rgba(37,99,235,.05);padding:4px 10px;border-radius:6px;margin-top:6px;display:inline-block">Solucion: Cambiar color del enlace a #94a3b8 (ratio 4.7:1)</div>
      </div>
    </div>
    <div class="a11y-issue">
      <div class="issue-badge" style="background:var(--primary)">i</div>
      <div>
        <div style="font-size:13px;font-weight:600">Video sin subtitulos</div>
        <div style="font-size:11px;color:var(--muted)">Regla: video-captions | Seccion: Hero</div>
        <div style="font-size:11px;color:var(--primary);background:rgba(37,99,235,.05);padding:4px 10px;border-radius:6px;margin-top:6px;display:inline-block">Solucion: Anadir subtitulos o transcripcion al video</div>
      </div>
    </div>
    <div style="margin-top:16px;padding-top:16px;border-top:1px solid var(--border)">
      <h4 style="font-size:13px;font-weight:700;margin-bottom:8px;color:var(--success)">&#10003; 4 reglas superadas</h4>
      <div style="font-size:12px;color:var(--muted);line-height:1.8">
        &#10003; Texto alternativo en imagenes<br>
        &#10003; Jerarquia de encabezados correcta<br>
        &#10003; Etiquetas de formularios presentes<br>
        &#10003; Texto de enlaces descriptivo
      </div>
    </div>
  </div>
</div>
</div>`;
}

// ===== BANK LANDING HTML (reused in editor canvas and preview) =====
function bankLandingHTML(forEditor){
  const wrap = (id, content) => forEditor
    ? `<div class="canvas-section" data-section="${id}" onclick="selectSection('${id}')">${content}</div>`
    : content;
  return `
${wrap('nav',`<div class="bank-nav"><div class="logo">&#127974; Banco Nacional Meridian</div><div class="menu"><span>Hipotecas</span><span>Tarjetas</span><span>Empresas</span><span>Contacto</span></div></div>`)}
${wrap('hero',`<div class="bank-hero"><h1>Tu primera vivienda con la mejor<br>hipoteca del mercado</h1><div class="rate">Desde Euribor + 0,49% | TIN 2,15%</div><div class="cta-btn">Solicitar ahora &#8594;</div><p style="font-size:11px;margin-top:12px;opacity:.6;position:relative">Sin compromiso. Respuesta en 24h.</p></div>`)}
${wrap('stats',`<div class="bank-stats"><div class="bank-stat"><div class="num">&euro;150M</div><div class="lbl">Financiados</div></div><div class="bank-stat"><div class="num">12.000</div><div class="lbl">Familias</div></div><div class="bank-stat"><div class="num">98%</div><div class="lbl">Aprobacion</div></div><div class="bank-stat"><div class="num">24h</div><div class="lbl">Respuesta</div></div></div>`)}
${wrap('features',`<div class="bank-features"><h2>Ventajas de nuestra hipoteca</h2><div class="feat-grid"><div class="feat-item"><div class="feat-icon">&#128176;</div><h4>Sin comision apertura</h4><p>0 gastos iniciales</p></div><div class="feat-item"><div class="feat-icon">&#128200;</div><h4>Tipo fijo o variable</h4><p>Tu eliges</p></div><div class="feat-item"><div class="feat-icon">&#128197;</div><h4>Hasta 30 anos</h4><p>Cuotas comodas</p></div><div class="feat-item"><div class="feat-icon">&#127968;</div><h4>100% financiacion</h4><p>Para menores de 35</p></div></div></div>`)}
${wrap('testimonials',`<div class="bank-testimonials"><h2>Lo que dicen nuestros clientes</h2><div class="test-grid"><div class="test-card"><blockquote>"El proceso fue rapido y transparente. En 3 semanas teniamos las llaves de nuestra casa."</blockquote><div class="author">Maria y Pablo Garcia</div><div class="role">Hipoteca Joven, 2025</div></div><div class="test-card"><blockquote>"La mejor tasa que encontramos. El asesor nos guio en cada paso del proceso."</blockquote><div class="author">Carlos Ruiz Fernandez</div><div class="role">Hipoteca Variable, 2025</div></div><div class="test-card"><blockquote>"100% financiacion para jovenes fue clave. Sin Meridian no habriamos podido comprar."</blockquote><div class="author">Ana Torres y Javier Moreno</div><div class="role">Hipoteca Joven, 2026</div></div></div></div>`)}
${wrap('faq',`<div class="bank-faq"><h2>Preguntas frecuentes</h2><div class="faq-item"><h4>&#191;Que documentacion necesito?</h4><p>DNI, ultimas 3 nominas, declaracion de la renta y contrato de trabajo.</p></div><div class="faq-item"><h4>&#191;Puedo cambiar de tipo fijo a variable?</h4><p>Si, ofrecemos la opcion de novacion sin costes durante los primeros 5 anos.</p></div><div class="faq-item"><h4>&#191;Cual es el plazo de respuesta?</h4><p>Pre-aprobacion en 24h. Aprobacion definitiva en 5-7 dias laborables.</p></div></div>`)}
${wrap('form',`<div class="bank-form"><h2>Solicita tu hipoteca</h2><div class="form-fields"><input placeholder="Nombre completo"><input placeholder="Email" type="email"><input placeholder="Telefono" type="tel"><select><option>Tipo de hipoteca</option><option>Fija</option><option>Variable</option><option>Mixta</option></select><input placeholder="Importe deseado (EUR)"><button class="submit-btn">Enviar solicitud &#8594;</button></div></div>`)}
${wrap('footer',`<div class="bank-footer"><div>&#127974; Banco Nacional Meridian &copy; 2026<br>Entidad supervisada por el Banco de Espana</div><div style="text-align:right">Aviso legal | Privacidad | Cookies<br>Tel: 900 123 456</div></div>`)}`;
}

// ===== EDITOR CANVAS =====
function renderEditorCanvas(){
  document.getElementById('editor-canvas-frame').innerHTML = bankLandingHTML(true);
}

// ===== SECTION SELECTION IN EDITOR =====
const sectionProps = {
  nav: {name:'Navegacion',fields:[{l:'Logo texto',v:'Banco Nacional Meridian'},{l:'Enlace 1',v:'Hipotecas'},{l:'Enlace 2',v:'Tarjetas'},{l:'Color fondo',v:'#0C2340',type:'color'}]},
  hero: {name:'Hero — Centrado',fields:[{l:'Titulo',v:'Tu primera vivienda con la mejor hipoteca del mercado'},{l:'Subtitulo',v:'Desde Euribor + 0,49% | TIN 2,15%'},{l:'Texto CTA',v:'Solicitar ahora'},{l:'URL del CTA',v:'#formulario'},{l:'Color fondo',v:'#0C2340',type:'color'},{l:'Color CTA',v:'#C5A572',type:'color'}]},
  stats: {name:'Estadisticas',fields:[{l:'Stat 1 valor',v:'€150M'},{l:'Stat 1 etiqueta',v:'Financiados'},{l:'Stat 2 valor',v:'12.000'},{l:'Stat 2 etiqueta',v:'Familias'},{l:'Stat 3 valor',v:'98%'},{l:'Stat 3 etiqueta',v:'Aprobacion'}]},
  features: {name:'Caracteristicas',fields:[{l:'Titulo seccion',v:'Ventajas de nuestra hipoteca'},{l:'Feature 1',v:'Sin comision apertura'},{l:'Feature 2',v:'Tipo fijo o variable'},{l:'Feature 3',v:'Hasta 30 anos'},{l:'Feature 4',v:'100% financiacion'}]},
  testimonials: {name:'Testimonios',fields:[{l:'Titulo seccion',v:'Lo que dicen nuestros clientes'},{l:'Testimonio 1 autor',v:'Maria y Pablo Garcia'},{l:'Testimonio 1 texto',v:'El proceso fue rapido y transparente...'}]},
  faq: {name:'FAQ',fields:[{l:'Titulo seccion',v:'Preguntas frecuentes'},{l:'Pregunta 1',v:'Que documentacion necesito?'},{l:'Respuesta 1',v:'DNI, ultimas 3 nominas...'}]},
  form: {name:'Formulario de contacto',fields:[{l:'Titulo',v:'Solicita tu hipoteca'},{l:'Texto boton',v:'Enviar solicitud'},{l:'Color boton',v:'#C5A572',type:'color'},{l:'Email destino',v:'leads@meridian.bank'}]},
  footer: {name:'Pie de pagina',fields:[{l:'Texto legal',v:'Banco Nacional Meridian 2026'},{l:'Telefono',v:'900 123 456'},{l:'Color fondo',v:'#0C2340',type:'color'}]}
};

function selectSection(id){
  document.querySelectorAll('.canvas-section').forEach(s=>s.classList.remove('selected'));
  const el=document.querySelector(`[data-section="${id}"]`);
  if(el)el.classList.add('selected');
  const sp=sectionProps[id];
  if(!sp)return;
  document.getElementById('props-name').textContent=sp.name;
  let html='';
  sp.fields.forEach(f=>{
    if(f.type==='color'){
      html+=`<div class="prop-group"><div class="prop-label">${f.l}</div><div class="prop-color"><input type="color" value="${f.v}"><input class="prop-input" value="${f.v}" style="flex:1"></div></div>`;
    } else {
      html+=`<div class="prop-group"><div class="prop-label">${f.l}</div><input class="prop-input" value="${f.v}"></div>`;
    }
  });
  document.getElementById('props-content').innerHTML=html;
}

// ===== PREVIEW =====
function renderPreview(){
  document.getElementById('preview-content').innerHTML = bankLandingHTML(false);
  document.getElementById('preview-popup').classList.remove('show');
}

// ===== INIT =====
renderEditorCanvas();
renderPreview();
</script>
</body>
</html>
